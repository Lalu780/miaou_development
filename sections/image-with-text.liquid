{% assign layout = section.settings.layout | default: 'right' %}
{% assign text = section.settings.text | default: '' %}
{% assign button_label = section.settings.button_label | default: '' %}
{% assign button_link = section.settings.button_link | default: '' %}

<section class="FeatureRow {{ layout | capitalize | prepend: 'has-imageOn' }}">
  <div class="column row">

    <div class="FeatureRow-textContainer">
      {% if text != blank %}
        <div class="o-rte">
          {{ text }}
        </div>
      {% endif %}
      {% if button_link != blank and button_label != blank %}
        <div class="FeatureRow-buttonContainer">
          <a class="FeatureRow-button o-button" href="{{ button_link }}">
            {{ button_label }}
          </a>
        </div>
      {% endif %}
    </div>
{{- '' -}}<div class="FeatureRow-imageContainer">
      {%- if section.settings.image -%}
        <img class="FeatureRow-image" src="{{ section.settings.image | img_url: '800x' }}" width="{{ section.settings.image.width }}" height="{{ section.settings.image.height }}" loading="lazy" alt="" />
      {% else %}
        {{ 'image' | placeholder_svg_tag: 'o-placeholderSvg' }}
      {%- endif -%}
    </div>

  </div>
</section>

{% schema %}
  {
    "name": "Image with Text",
    "class": "FeatureRow IndexSection",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "select",
        "id": "layout",
        "label": "Layout",
        "options": [
          {
            "value": "left",
            "label": "Image on left"
          },
          {
            "value": "right",
            "label": "Image on right"
          }
        ],
        "default": "right"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Image with text"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Pair large text with an image to give focus to your chosen product, collection, or blog post. Add details on availability, style, or even provide aÂ review.<\/p>"
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button label"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button link"
      }
    ],
    "presets": [{
      "name": "Image with text",
      "category": "Image",
      "settings": {}
    }]
  }
{% endschema %}
