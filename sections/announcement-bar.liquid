{%- for block in section.blocks -%}
{%- case block.type -%}
{%- when 'announcement' -%}
<div class="announcement-bar" {%- if block.settings.color_scheme !=blank -%}
  style="background-color:{{ block.settings.color_scheme }}" {%- endif -%} role="region" aria-label="Announcement" {{
  block.shopify_attributes }}>
  {%- if block.settings.text != blank -%}
  <div class="page-width">
    <p class="announcement-bar__message {{ block.settings.text_alignment }} h5" {%- if block.settings.text_color !=blank
      -%} style="color:{{ block.settings.text_color }}" {%- endif -%}>
      {{ block.settings.text | escape }}
      {%- if block.settings.link != blank -%}
      <a href="{{ block.settings.link }}" class="announcement-bar__link link link--text focus-inset animate-arrow">Learn
        More</a>
      {%- endif -%}
    </p>
  </div>
  {%- endif -%}
</div>
{%- endcase -%}
{%- endfor -%}

{% schema %}
{
"name":"Announcement Bar",
"max_blocks":12,
"blocks":[
{
"type":"announcement",
"name":"announcement",
"settings":[
{
"type":"text",
"id":"text",
"default":"Welcome to our store",
"label":"Text"
},
{
"type":"color",
"id":"color_scheme",
"default":"#000000",
"label":"Background Color"
},
{
"type":"color",
"id":"text_color",
"default":"#ffffff",
"label":"Text Color"
},
{
"type":"select",
"id":"text_alignment",
"options":[
{
"value":"left",
"label":"left"
},
{
"value":"center",
"label":"center"
},
{
"value":"right",
"label":"right"
}
],
"default":"center",
"label":"center"
},
{
"type":"url",
"id":"link",
"label":"Link"
}
]
}
],
"default":{
"blocks":[
{
"type":"announcement"
}
]
}
}

{% endschema %}