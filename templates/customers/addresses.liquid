<main class="Customer" role="main">
  <div class="Customer-content">
    <h2 class="Customer-title">
      {{ 'customer.addresses.title' | t }}
    </h2>

    <section id="address_tables" class="Customer-addresses">
      <h1 class="Customer-sectionTitle">
        {{ 'customer.addresses.title' | t }}
      </h1>

      {% paginate customer.addresses by 10 %}
        {% for address in customer.addresses %}
          <div class="Customer-address address_table">
            <div id="view_address_{{address.id}}" class="customer_address">
              <h5 class="Customer-addressTitle">
                {{ address.street }}
                {% if address == customer.default_address %}
                  <span class="subheader">
                    {{ 'customer.addresses.default' | t | prepend: '[' | append: ']' }}
                  </span>
                {% endif %}
              </h5>
              <p class="address_actions">
                <span class="action_link action_edit">
                  {{ 'customer.addresses.edit' | t | edit_customer_address_link: address.id }}
                </span>
                <span class="action_link action_delete">
                  {{ 'customer.addresses.delete' | t | delete_customer_address_link: address.id }}
                </span>
              </p>
              <div class="Customer-addressDetails o-rte">
                {{ address | format_address }}
                <p>{{ address.phone }}
                </p>
              </div>
            </div>
            <div id="edit_address_{{ address.id }}" class="Customer-form" style="display:none;">
              {% form 'customer_address', address %}
                <label for="address_first_name_{{form.id}}">
                  {{ 'customer.addresses.first_name' | t }}
                </label>
                <input type="text" id="address_first_name_{{form.id}}" class="address_form" name="address[first_name]" value="{{form.first_name}}" size="40"/>

                <label for="address_last_name_{{form.id}}">
                  {{ 'customer.addresses.last_name' | t }}
                </label>
                <input type="text" id="address_last_name_{{form.id}}" class="address_form" name="address[last_name]" value="{{form.last_name}}" size="40"/>

                <label for="address_company_{{form.id}}">
                  {{ 'customer.addresses.company' | t }}
                </label>
                <input type="text" id="address_company_{{form.id}}" class="address_form" name="address[company]" value="{{form.company}}" size="40"/>

                <label for="address_address1_{{form.id}}">
                  {{ 'customer.addresses.address1' | t }}
                </label>
                <input type="text" id="address_address1_{{form.id}}" class="address_form" name="address[address1]" value="{{form.address1}}" size="40"/>

                <label for="address_address2_{{form.id}}">
                  {{ 'customer.addresses.address2' | t }}
                </label>
                <input type="text" id="address_address2_{{form.id}}" class="address_form" name="address[address2]" value="{{form.address2}}" size="40"/>

                <label for="address_city_{{form.id}}">
                  {{ 'customer.addresses.city' | t }}
                </label>
                <input type="text" id="address_city_{{form.id}}" class="address_form" name="address[city]" value="{{form.city}}" size="40"/>
                <label for="address_country_{{form.id}}">
                  {{ 'customer.addresses.country' | t }}
                </label>
                <select id="address_country_{{form.id}}" class="js-customer-address-country" name="address[country]" data-default="{{ form.country }}" data-address-id="{{ form.id }}">
                  {{ country_option_tags }}
                </select>
                <div id="address_province_container_{{form.id}}" style="display:none">
                  <label for="address_province_{{form.id}}">
                    {{ 'customer.addresses.province' | t }}
                  </label>
                  <select id="address_province_{{form.id}}" class="address_form" name="address[province]" data-default="{{form.province}}"></select>
                  <label for="address_zip_{{form.id}}">
                    {{ 'customer.addresses.zip' | t }}
                  </label>
                  <input type="text" id="address_zip_{{form.id}}" class="address_form" name="address[zip]" value="{{form.zip}}" size="40"/>
                  <label for="address_phone_{{form.id}}">
                    {{ 'customer.addresses.phone' | t }}
                  </label>
                  <input type="text" id="address_phone_{{form.id}}" class="address_form" name="address[phone]" value="{{form.phone}}" size="40"/>
                </div>

                <label>
                  {{ form.set_as_default_checkbox }}
                  {{ 'customer.addresses.set_default' | t }}
                </label>

                <div class="action_bottom">
                  <button type="submit" class="">
                    {{ 'customer.addresses.update' | t }}
                  </button>
                  <button type="button" class="js-toggle-address-form" data-form-id="{{ form.id }}">
                    {{ 'customer.addresses.cancel' | t }}
                  </button>
                </div>
              {% endform %}
            </div>
          </div>
        {% endfor %}

        {% render 'pagination', paginate: paginate %}
      {% endpaginate %}
    </section>

    <div id="add_address" class="Customer-form" style="display:none;">
      {% form 'customer_address', customer.new_address %}
        <h3 id="add_address_title">
          {{ 'customer.addresses.add_new' | t }}
        </h3>

        <label for="address_first_name_new">
          {{ 'customer.addresses.first_name' | t }}
        </label>
        <input type="text" id="address_first_name_new" class="address_form" name="address[first_name]" value="{{form.first_name}}" size="40"/>

        <label for="address_last_name_new">
          {{ 'customer.addresses.last_name' | t }}
        </label>
        <input type="text" id="address_last_name_new" class="address_form" name="address[last_name]" value="{{form.last_name}}" size="40"/>
        <label for="address_company_new">
          {{ 'customer.addresses.company' | t }}
        </label>
        <input type="text" for="address_company_new" class="address_form" name="address[company]" value="{{form.company}}" size="40"/>
        <label for="address_address1_new">
          {{ 'customer.addresses.address1' | t }}
        </label>
        <input type="text" id="address_address1_new" class="address_form" name="address[address1]" value="{{form.address1}}" size="40"/>
        <label for="address_address2_new">
          {{ 'customer.addresses.address2' | t }}
        </label>
        <input type="text" id="address_address2_new" class="address_form" name="address[address2]" value="{{form.address2}}" size="40"/>
        <label for="address_city_new">
          {{ 'customer.addresses.city' | t }}
        </label>
        <input type="text" id="address_city_new" class="address_form" name="address[city]" value="{{form.city}}" size="40"/>

        <label for="address_country_new">
          {{ 'customer.addresses.country' | t }}
        </label>
        <select id="address_country_new" name="address[country]" data-default="{{form.country}}">
          {{ country_option_tags }}
        </select>

        <div id="address_province_container_new" style="display:none">
          <label for="address_province_new">
            {{ 'customer.addresses.province' | t }}
          </label>
          <select id="address_province_new" class="address_form" name="address[province]" data-default="{{form.province}}"></select>
        </div>

        <label for="address_zip_new">
          {{ 'customer.addresses.zip' | t }}
        </label>
        <input type="text" id="address_zip_new" class="address_form" name="address[zip]" value="{{form.zip}}" size="40"/>

        <label for="address_phone_new">
          {{ 'customer.addresses.phone' | t }}
        </label>
        <input type="text" id="address_phone_new" class="address_form" name="address[phone]" value="{{form.phone}}" size="40"/>

        <label>
          {{ form.set_as_default_checkbox }}
          {{ 'customer.addresses.set_default' | t }}
        </label>

        <div class="action_bottom">
          <button type="submit" class="">
            {{ 'customer.addresses.add' | t }}
          </button>
          <button class="js-toggle-address-form">
            {{ 'customer.addresses.cancel' | t }}
          </button>
        </div>
      {% endform %}
    </div>

    <div class="row">
      <button type="button" class="js-toggle-address-form">
        {{ 'customer.addresses.add_new' | t }}
      </button>

      <a class="Customer-button" href="/account">
        {{ 'customer.account.return' | t }}
      </a>
    </div>
  </div>
</main>
